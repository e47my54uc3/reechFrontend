<ion-view title="Questions" ng-controller="questionsCtrl">

  <ion-content class="has-subheader has-footer" on-swipe-up="loadMore()">
    <ion-list >
      <ion-item ng-repeat="question in questions" style="padding: 0px !important;">
      <div class="button-bar button-clear">
        <a href="{{question.clickable ? '#/user/' + question.posted_by_user_id + '/profile' : '#/categories/' + currentCategory + '/questions'}}" class="col-50 item item-clear item-icon-left" >
          <img ng-src="{{question.posted_by_avatar ? question.posted_by_avatar : 'img/no-image.png'}}" class="icon" style="left: 0 !important; top: 0 !important;"></img>
          <span class="postedby">{{question.posted_by}}</span>
        </a>
        <a class="col col-33 post_time">{{question.updated_at | timeago}}</a>
      </div>
      <div class="row" reech-modal modal-template="'templates/question_detail.html'" ng-click="openModal()" modal-before-open="beforeQuestionDetailsModal(question.id)">
        <div class="col col-75 item-text-wrap dark question_text">{{question.post}}</div>
        <div class="col col-25">
          <a class="item-thumbnail">
            <img class="full-image" ng-src="{{question.avatar_file_name ? question.avatar_file_name : 'img/clear-image.png'}}">
          </a>
        </div>
      </div>
      <div class="button-bar button-clear">
          <div class="col col-offset-0"><icon class="ion-ios7-star staricon" ng-class="{positive: question.is_starred}" ng-click="starQuestion(question.id);"></icon></div>
          <div class="col col-offset-25"><icon class="ion-link linkicon" ng-class="{positive: question.is_linked}"></icon>{{question.linked_count}}</div>
          <div class="col col-offset-25"><icon class="ion-ios7-chatboxes" ng-class="{chaticon: question.has_conversation}"></icon></div>
          <div class="col col-offset-25"><icon class="ion-ios7-checkmark" ng-class="{solvedicon: question.has_solution}"></icon></div>
      </div>
      </ion-item>
</ion-list>
  </ion-content>
  <ion-footer-bar class="bar bar-footer bar-stable">
    <button class="button button-clear col-10 navbar_bottom" ng-click="currentScope = 'all_feed'" ng-class="{'button-positive': currentScope == 'all_feed'}">All</button>
    <button class="button button-clear col-15 navbar_bottom" ng-click="currentScope = 'mine'" ng-class="{'button-positive': currentScope == 'mine'}">Mine</button>
    <button class="button button-clear col-20 navbar_bottom" ng-click="currentScope = 'linked'" ng-class="{'button-positive': currentScope == 'linked'}">Linked</button>
    <button class="button button-clear col-15 navbar_bottom" ng-click="currentScope = 'starred'" ng-class="{'button-positive': currentScope == 'starred'}">Starred</button>
    <button class="icon ion-loop button button-clear col navbar_bottom" ng-click="fetchQuestions()"></button>
    <span class="col">
        <span class="curio_container">
          <img src="img/curio.png" class="curio_img"></img>
        <div class="curio_text">{{currentUserProfile.curio_points}}</div></span>
    </span>
  </ion-footer-bar>

</ion-view>
