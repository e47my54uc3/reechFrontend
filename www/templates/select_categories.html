<ion-modal-view >
    <ion-header-bar class="bar-positive">
    <a class="button button-clear" ng-click="closeCategoriesModel()"><i class="icon ion-ios7-close-outline"></i></a>
      <h1 class="title"> Categories </h1>
    </ion-header-bar>
    <ion-content class="has-header has-footer">
      <div class="list">        
        <label class="item item-input">
          <input type="text" ng-model="qCategory" placeholder="search for category..."></input>
        </label>  
         
          <div class="item item-checkbox" ng-repeat="category in allCategories | filter: qCategory">
           <label class="checkbox" ng-if="currentState == 'categories'">
             <input type="checkbox" ng-click="addCategory(category.id)" ng-checked="isCategorySelected(category.id)"/>
           </label><span  ng-click="currentState != 'categories' && (loadQuestions(category.id) || closeCategoriesModel()) ">{{category.title}}</span> 
         </div>
      
      </div>   
   
    </ion-content>
    <ion-footer-bar style="height:50px;" ng-if="currentState == 'categories'">
        <a class="button col col-50 button-balanced" ng-click="selectAllCategories()"> 
          All
        </a> 
        <a class="button col col-50 button-positive" ng-click="submit()"> 
          Done!
        </a>   
    </ion-footer-bar>
  </ion-modal-view>